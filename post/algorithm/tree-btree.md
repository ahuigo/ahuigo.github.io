---
title: B树(Btree),B+树(B+tree)
date: 2024-05-23
private: true
---
# Preface
>与红黑树不同的是，它是多叉树（M>3） B树和B+树都是一种用于存储有序数据的平衡搜索树，它们广泛用于数据库和文件系统的实现。

B树和B+树的主要区别在于数据的存储方式和树的结构。

1. 数据存储方式：
   1. 在B树中，数据可以存储在任何节点中；
   2. 而在B+树中，数据只存储在叶子节点中，非叶子节点只存储键值和子节点的指针。这使得B+树的非叶子节点可以存储更多的键值和指针，从而降低了树的高度。
2. 叶子节点的链接：
   1. 而在B树中，叶子节点之间没有链接。
   2. 在B+树中，所有叶子节点都通过指针链接在一起，形成一个链表。这使得B+树可以非常高效地处理范围查询（例如，查找所有大于某个值的元素）。

3. 数据的冗余：
   1. 由于B树中的数据可以存储在任何节点中，因此B树可能会有数据的冗余（同一个数据在多个节点中出现）。
   2. 而在B+树中，由于数据只存储在叶子节点中，因此没有数据的冗余。

总的来说，B+树相比于B树在处理大量数据和范围查询时有更好的性能，因此在数据库和文件系统中更常见。然而，如果需要频繁地查找单个元素，B树可能会有更好的性能，因为B树的高度可能会比B+树低。


## 持久化区别
B+树和B树都是多路搜索树，但是B+树有几个特性使其更适合用于文件系统和数据库的持久化：

1. 所有的值都在叶子节点：在B+树中，所有的值都存储在叶子节点，而非叶子节点只存储关键字信息。这使得在磁盘上进行范围查询更高效，因为磁盘读写操作的成本主要在于寻道时间，连续读取磁盘上的数据比随机读取要快得多。

2. 叶子节点之间的链接：B+树的叶子节点之间有链接，可以进行高效的顺序访问。这对于数据库和文件系统中的范围查询非常有用。

3. 更高的分支因子：由于B+树的非叶子节点只存储关键字信息，因此每个节点可以存储更多的关键字，从而使树的高度更低，减少了查询时的磁盘I/O操作。

 