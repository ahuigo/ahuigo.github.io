---
title: k8s install
date: 2019-05-16
private:
---
# 学习环境安装
- Minikube 是一种可以让您在本地轻松运行Kubernetes 的工具。 
    - Minikube 在笔记本电脑上的虚拟机（VM）中运行单节点Kubernetes 集群，供那些希望尝试Kubernetes 或进行日常开发的用户使用。
- Kind  让你能够在本地计算机上运行 Kubernetes。 kind 要求你安装并配置好 Docker。
    - 是一个使用 Docker 容器“节点”运行本地 Kubernetes 集群的工具。与Minikube 类似
- kubectl 是kubernetes 命令行工具

## install kubectl minikube

    brew install kubectl
    brew install minikube
    brew install hyperkit
    brew install docker-machine-driver-hyperkit

Minikube 默认的虚拟化引擎是 VirtualBox，而 hyperkit 是一个更轻量、性能更好的替代。它需要以 root 权限运行，所以安装完要把所有者改为 root:wheel，并把 setuid 权限打开：

    sudo chown root:wheel /usr/local/opt/docker-machine-driver-hyperkit/bin/docker-machine-driver-hyperkit
    sudo chmod u+s /usr/local/opt/docker-machine-driver-hyperkit/bin/docker-machine-driver-hyperkit

检查

    brew link kubernetes-cli
    kubectl version --client

### ubuntu

## 启动 Minikube (k8s server)
启动 minikube:

    minikube start --vm-driver hyperkit

如果你在第一次启动 Minikube 时遇到错误或被中断，可以尝试运行

     minikube delete; #把集群删除，重新来过。

让我们使用名为 echoserver 的镜像创建一个 Kubernetes Deployment，并使用 --port 在端口 8080 上暴露服务。echoserver 是一个简单的 HTTP 服务器。

    kubectl create deployment hello-minikube --image=k8s.gcr.io/echoserver:1.10

